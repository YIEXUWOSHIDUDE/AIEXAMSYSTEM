# 🤖 AI智能评判系统

基于大语言模型(LLM)的智能考试评判系统，专注于简答题自动评分和智能反馈。

## 🆕 核心功能

### 🎯 **AI智能评判**
- **简答题自动评分**: 基于Qwen3-32B大模型的语义理解评分
- **实时评判反馈**: 毫秒级响应，即时获得评分结果  
- **多维度分析**: 准确性(60%)、完整性(25%)、表达清晰度(15%)综合评判
- **客观公正**: 消除主观偏见，确保评分一致性

### 📝 **题目管理增强**
- **AI文档解析**: 上传Word/PDF文档，AI自动识别并提取题目
- **图片智能处理**: 支持题目图片的智能识别和合理显示
- **图文混合支持**: 同时处理文字和图片内容的复杂题目
- **批量导入优化**: 一键批量上传，自动去除重复内容

### 🖼️ **界面优化**  
- **图片尺寸控制**: 题目图片智能缩放，不再占用过多屏幕空间
- **清洁界面**: 移除冗余的URL显示，只显示实际图片预览
- **响应式设计**: 适配不同屏幕尺寸的设备使用

## 🛠 技术架构

### **核心技术栈**
- **Backend**: Spring Boot + MyBatis Plus + Shiro + MySQL
- **Frontend**: Vue.js + Element UI
- **AI Engine**: Qwen3-32B (千问大模型)
- **Document Processing**: Python + FastAPI + MinIO

### **系统架构**
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Frontend      │    │   Backend       │    │   AI Services   │
│   (Vue.js)      │◄──►│  (Spring Boot)  │◄──►│   (Qwen3-32B)   │
│   Port: 8080    │    │   Port: 8101    │    │   Port: 10031   │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                │
                                ▼
                       ┌─────────────────┐
                       │  Document API   │
                       │   (Python)      │
                       │   Port: 8003    │
                       └─────────────────┘
```

## 🌟 AI评判特色

### **智能评分引擎**
- ✅ **语义理解**: 基于大模型的深度语义分析
- ✅ **多维评判**: 不仅看答案正确性，还评估表达质量
- ✅ **个性化反馈**: 针对每个答案提供具体改进建议
- ✅ **一致性保证**: 相同答案获得相同评分，消除人工偏差

### **评分标准**
- **准确性 (60%)**: 答案内容的正确程度
- **完整性 (25%)**: 是否涵盖所有关键知识点  
- **表达清晰度 (15%)**: 语言表达的逻辑性和清晰度

### **输出格式**
```json
{
  "score": 8.5,
  "percentage": 85,
  "grade": "B",
  "comment": "答案基本正确，逻辑清晰，但部分要点表述可以更精确",
  "maxScore": 10.0
}
```

## 🚀 快速开始

### **环境要求**
```bash
# 基础环境
JDK 1.8+
MySQL 5.7+
Node.js 14+
Python 3.8+

# AI服务
Qwen3-32B 大模型服务 (需自行部署)
MinIO 对象存储服务
```

### **安装步骤**

1. **数据库初始化**
```sql
-- 导入基础数据
mysql> source exam.sql
```

2. **后端启动**
```bash
cd exam-api
mvn clean package
java -jar target/exam-api.jar
# 访问: http://localhost:8101
```

3. **前端启动**  
```bash
cd exam-vue
npm install
npm run dev
# 访问: http://localhost:8080
```

4. **文档处理服务启动**
```bash
cd dist
python app.py
# 服务: http://localhost:8003
```

### **默认账号**
- **管理员**: admin / admin
- **学员**: person / person

## 📋 功能使用指南

### **📤 智能文档上传**
1. 登录管理员账号
2. 进入 `题库管理` → `题目管理`  
3. 点击 `AI上传` 按钮
4. 上传Word/PDF文档
5. 系统自动解析并导入题目

### **🤖 AI智能评判**
1. 学生完成简答题答题
2. 系统自动调用AI评判接口
3. 实时获得评分结果和详细反馈
4. 支持批量评判多道题目

### **📊 评判结果查看**
1. 进入考试结果页面
2. 查看AI给出的分数和等级
3. 阅读详细的评分说明
4. 根据建议改进学习方法

## 🎯 架构设计理念

### **KISS原则 (Keep It Simple, Stupid)**
- ✅ **简单直接**: 避免过度设计，采用最直接的实现方案
- ✅ **模块清晰**: 明确的功能边界和职责分离  
- ✅ **易于维护**: 代码结构清晰，便于后续开发和维护

### **AI集成策略**
- **直接调用**: Java后端直接调用AI服务，避免复杂的中间层
- **专业分工**: Python专门处理文档解析，Java处理业务逻辑
- **错误容错**: AI服务不可用时提供graceful降级

## 📊 技术实现亮点

### **后端优化**
- **统一AI服务**: `AIProcessingService` 集中管理所有AI调用
- **简化API**: 移除冗余的批量评判，保持API简洁
- **类型兼容**: 支持Integer和Double类型的灵活处理
- **Java8兼容**: 所有代码兼容Java 8，避免版本依赖问题

### **前端优化**
- **图片预览**: 文件上传组件显示图片缩略图而非URL
- **尺寸控制**: 题目图片限制最大宽度，提升阅读体验
- **界面简化**: 移除复杂的key point显示，专注核心信息

### **AI提示词工程**
- **中文优化**: 专门针对中文简答题评判优化的提示词
- **格式控制**: 严格的JSON输出格式，避免解析错误
- **评分标准**: 明确的评分维度和权重分配

## 🤝 开发团队

**AI功能开发**
- **AI集成**: 基于Qwen3-32B大模型的智能评判功能
- **架构设计**: KISS原则指导下的简化架构设计  
- **功能实现**: 文档解析、智能评判、界面优化等功能

## 📞 技术支持

### **问题反馈**
- **GitHub Issues**: 欢迎提交bug报告和功能建议
- **技术讨论**: 欢迎贡献代码和优化建议

### **部署支持**
- **环境配置**: 详细的部署文档和环境要求说明
- **问题排查**: 常见问题的解决方案和调试方法

## 📄 开源协议

本项目采用开源方式提供，遵循MIT协议。

---

**让AI赋能教育评估，让评判更智能更公正！** 🚀🤖

## 🔧 API接口文档



### **文档上传接口**
```
POST /api/extract_questions_with_images

Request: multipart/form-data
- file: 上传的文档文件

Response: 
{
  "questions": [...], // 解析出的题目列表
  "message": "解析成功"
}
```
