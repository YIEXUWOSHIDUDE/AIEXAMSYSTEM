# AI智能题目上传功能说明

## 功能概述
新增的AI智能题目上传功能可以自动从文档中提取和解析题目，大大提高题目录入效率。

## 功能特点

### ✨ 智能解析
- 支持PDF、DOC、DOCX、TXT等格式文档
- AI自动识别题目类型（单选、多选、判断题等）
- 智能提取选项和正确答案

### 🚀 用户体验
- 拖拽上传，操作简便
- 实时进度显示
- 题目预览和确认
- 错误处理和重试机制

### 🔧 技术架构
- 前端：Vue.js + Element UI
- 后端：Spring Boot + HTTP接口调用
- AI服务：独立LLM模块，通过HTTP通信

## 使用方法

### 1. 启动服务
确保以下服务正常运行：
```bash
# 1. 启动LLM服务 (端口8080)
cd llm
mvn spring-boot:run

# 2. 启动exam-api服务 (端口8101)
cd exam-api
mvn spring-boot:run

# 3. 启动前端服务
cd exam-vue
npm run dev
```

### 2. 使用AI上传功能
1. 登录系统，进入"试题管理"页面
2. 点击"AI智能导入"按钮
3. 选择或拖拽上传试卷文档
4. 等待AI解析完成
5. 预览提取的题目
6. 确认导入到系统

### 3. 支持的文件格式
- **PDF**: 扫描版和文本版均可
- **DOC/DOCX**: Microsoft Word文档
- **TXT**: 纯文本文件

### 4. 题目格式示例
```
1. 以下哪个是正确的？
A. 选项A
B. 选项B
C. 选项C ✓
D. 选项D

2. 判断题：地球是圆的。（√）

3. 多选题：以下哪些是编程语言？
A. Java ✓
B. Python ✓  
C. HTML
D. CSS
```

## 技术实现

### 前端组件
- `AIUpload/index.vue` - AI上传组件
- API调用：`api/qu/qu.js` 中的 `aiUploadQuestions()`

### 后端接口
- 路径：`/exam/api/ai-upload/upload`
- 方法：POST
- 参数：MultipartFile file

### LLM服务
- 端口：8080
- 接口：`/api/llm/questions`
- 功能：文档解析和题目提取

## 错误处理

### 常见问题
1. **文件格式不支持** - 请使用PDF、DOC、DOCX或TXT格式
2. **文件过大** - 限制50MB以内
3. **网络超时** - 检查服务器连接
4. **解析失败** - 检查文档内容格式

### 故障排查
1. 检查LLM服务是否正常运行（端口8080）
2. 确认exam-api服务状态（端口8101）
3. 查看浏览器控制台错误信息
4. 检查网络连接

## 更新记录

### v1.0.0 (2025-07-22)
- ✅ 新增AI智能上传组件
- ✅ 集成题目管理页面
- ✅ 支持多种文档格式
- ✅ 实时进度显示
- ✅ 题目预览功能
- ✅ 错误处理机制

## 注意事项
1. 确保LLM服务先启动
2. 上传大文件时需要耐心等待
3. 建议在题目导入前先预览确认
4. 定期清理上传的临时文件